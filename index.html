<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Forever Match</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: radial-gradient(circle at top left, #ffe4e6, transparent), radial-gradient(circle at bottom right, #e0f2fe, transparent), linear-gradient(to bottom right, #fce7f3, #e879f9);
            background-size: cover;
            background-attachment: fixed;
            color: #4a5568;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            overflow-x: hidden;
            overflow-y: auto;
        }
        .container-card {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 2rem;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1), 0 6px 6px rgba(0,0,0,0.15);
            padding: 2.5rem;
            max-width: 28rem;
            width: 90%;
            text-align: center;
            animation: fadeIn 1s ease-in-out;
        }
        .form-card {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(8px);
            border-radius: 1.5rem;
            padding: 2rem;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
        }
        .results-card {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border-radius: 1.5rem;
            padding: 2.5rem;
            text-align: left;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        input, select {
            width: 100%;
            padding: 0.75rem;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            border-radius: 0.75rem;
            border: 1px solid #d1d5db;
            background-color: #f9fafb;
            transition: all 0.3s ease;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #e879f9;
            box-shadow: 0 0 0 2px rgba(232, 121, 249, 0.5);
        }
        .btn {
            padding: 0.75rem 2rem;
            border-radius: 9999px;
            font-weight: 700;
            color: white;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn-primary {
            background-image: linear-gradient(to right, #f9a8d4, #f472b6, #e879f9);
            border: none;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        .btn-primary:active {
            transform: translateY(0);
        }
        .btn-secondary {
            background-color: #f0abfc;
            color: #6d28d9;
            border: none;
        }
        .btn-secondary:hover {
            background-color: #e879f9;
            color: white;
        }
        #message-box {
            background-color: #fff1f2;
            color: #dc2626;
            padding: 1rem;
            border-radius: 0.75rem;
            border: 1px solid #fecaca;
            margin-top: 1rem;
            display: none;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body>


    <!-- Main Container -->
    <div id="main-content" class="container-card">
        <div id="form-container" class="form-card">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-pink-600">The Forever Matcher</h1>
            <p class="mt-4 mb-8 text-md sm:text-lg text-gray-600">Enter your details and discover who you're truly meant to be with! 😉</p>
            
            <div id="message-box"></div>


            <form id="details-form" class="space-y-4 text-left">
                <div>
                    <label for="fullName" class="block text-sm font-medium text-gray-700">Full Name</label>
                    <input type="text" id="fullName" name="fullName" required placeholder="Full Name">
                </div>
                <div>
                    <label for="gender" class="block text-sm font-medium text-gray-700">Gender</label>
                    <select id="gender" name="gender" required>
                        <option value="">Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div>
                    <label for="dob" class="block text-sm font-medium text-gray-700">Date of Birth</label>
                    <input type="text" id="dob" name="dob" required placeholder="DD/MM/YYYY" maxlength="10">
                </div>
                <div>
                    <label for="pob" class="block text-sm font-medium text-gray-700">Place of Birth</label>
                    <input type="text" id="pob" name="pob" required placeholder="e.g., Mumbai">
                </div>
                <div>
                    <label for="religion" class="block text-sm font-medium text-gray-700">Religion</label>
                    <input type="text" id="religion" name="religion" required placeholder="e.g., Hindu">
                </div>
                <div>
                    <label for="profession" class="block text-sm font-medium text-gray-700">Profession</label>
                    <input type="text" id="profession" name="profession" required placeholder="e.g., Scientist">
                </div>
                <button type="submit" class="btn btn-primary w-full mt-6">Find My Soulmate</button>
            </form>
        </div>


        <div id="results-container" class="hidden results-card">
            <div class="flex justify-center items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-pink-500 animate-pulse" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
                </svg>
            </div>
            <h2 class="text-2xl sm:text-3xl font-extrabold text-pink-600 mt-4 mb-2 text-center">Your Forever Match</h2>
            <div class="mt-4 space-y-3">
                <p><span class="font-bold">Name:</span> <span id="futureName" class="text-gray-700"></span></p>
                <p><span class="font-bold">Gender:</span> <span id="futureGender" class="text-gray-700"></span></p>
                <p><span class="font-bold">Age:</span> <span id="futureAge" class="text-gray-700"></span></p>
                <p><span class="font-bold">Date of Birth:</span> <span id="futureDob" class="text-gray-700"></span></p>
                <p><span class="font-bold">Place of Birth:</span> <span id="futurePob" class="text-gray-700"></span></p>
                <p><span class="font-bold">Religion:</span> <span id="futureReligion" class="text-gray-700"></span></p>
                <p><span class="font-bold">Profession:</span> <span id="futureProfession" class="text-gray-700"></span></p>
            </div>
            <div class="mt-8 text-center bg-pink-50 p-4 rounded-xl border border-pink-200">
                <p class="text-md italic text-pink-600" id="loveQuote"></p>
            </div>
            <button id="go-back-btn" class="btn btn-secondary w-full mt-6">Go Back</button>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('details-form');
            const formContainer = document.getElementById('form-container');
            const resultsContainer = document.getElementById('results-container');
            const goBackButton = document.getElementById('go-back-btn');
            const dobInput = document.getElementById('dob');
            const nameInput = document.getElementById('fullName');
            const pobInput = document.getElementById('pob');
            const professionInput = document.getElementById('profession');
            const messageBox = document.getElementById('message-box');


            const quotes = [
                "I love you without knowing how, or when, or from where. I love you simply, without problems or pride.",
                "The best thing to hold onto in life is each other.",
                "You know you're in love when you can't fall asleep because reality is finally better than your dreams.",
                "To the world, you may be one person, but to one person you are the world.",
                "I saw that you were perfect, and so I loved you. Then I saw that you were not perfect and I loved you even more.",
                "You are my sun, my moon, and all of my stars.",
                "If I had a flower for every time I thought of you, I could walk through my garden forever.",
                "My heart is and always will be yours.",
                "I want to be with you till my last page.",
                "A true love story never ends.",
                "I've fallen in love many times... always with you.",
                "Love is a song that never ends.",
                "We are shaped and fashioned by those we love.",
                "The greatest thing you'll ever learn is just to love and be loved in return.",
                "You are my today and all of my tomorrows."
            ];


            const nehaDetails = {
                fullName: "Neha Tiwari",
                gender: "Female",
                dob: "03/02/1999",
                pob: "Lucknow",
                religion: "Hindu",
                profession: "Teacher"
            };


            const abhayDetails = {
                fullName: "Abhay Mishra",
                gender: "Male",
                dob: "14/02/2000",
                pob: "Barabanki",
                religion: "Hindu",
                profession: "IT Engineer"
            };


            // Data for random partners, with linked names and religions
            const malePartners = [
                { fullName: "Raj Sharma", pob: "Mumbai", religions: ["Hindu", "Jain"], professions: ["Doctor", "Pilot"] },
                { fullName: "Ahmed Khan", pob: "Delhi", religions: ["Muslim"], professions: ["Architect", "Engineer"] },
                { fullName: "Chris Thomas", pob: "Bengaluru", religions: ["Christian"], professions: ["Software Developer", "Scientist"] },
                { fullName: "Amrit Singh", pob: "Chandigarh", religions: ["Sikh"], professions: ["Lawyer", "Accountant"] },
                { fullName: "Siddharth Gupta", pob: "Pune", religions: ["Hindu"], professions: ["Data Analyst", "Consultant"] },
                { fullName: "Vivek Deshmukh", pob: "Nagpur", religions: ["Hindu"], professions: ["Chef", "Restaurateur"] },
                { fullName: "Irfan Ali", pob: "Kolkata", religions: ["Muslim"], professions: ["Graphic Designer", "Marketing Manager"] },
                { fullName: "Rohit Verma", pob: "Jaipur", religions: ["Hindu"], professions: ["Architect", "Urban Planner"] },
                { fullName: "Joseph Fernandez", pob: "Chennai", religions: ["Christian"], professions: ["Civil Engineer", "Contractor"] },
                { fullName: "Arjun Reddy", pob: "Hyderabad", religions: ["Hindu"], professions: ["Filmmaker", "Journalist"] },
                { fullName: "Amanjot Gill", pob: "Mohali", religions: ["Sikh"], professions: ["Software Developer", "Product Manager"] },
                { fullName: "Faizan Shah", pob: "Lucknow", religions: ["Muslim"], professions: ["Writer", "Editor"] },
                { fullName: "Suraj Kumar", pob: "Patna", religions: ["Hindu"], professions: ["Banker", "Financial Advisor"] },
                { fullName: "Daniel Paul", pob: "Kochi", religions: ["Christian"], professions: ["Pilot", "Airline Captain"] }
            ];


            const femalePartners = [
                { fullName: "Pooja Patel", pob: "Ahmedabad", religions: ["Hindu", "Jain"], professions: ["Writer", "Artist"] },
                { fullName: "Fatima Syed", pob: "Hyderabad", religions: ["Muslim"], professions: ["Teacher", "Designer"] },
                { fullName: "Maria Lopez", pob: "Goa", religions: ["Christian"], professions: ["Nurse", "Journalist"] },
                { fullName: "Harleen Kaur", pob: "Amritsar", religions: ["Sikh"], professions: ["Professor", "Entrepreneur"] },
                { fullName: "Ishita Shah", pob: "Surat", religions: ["Jain", "Hindu"], professions: ["Financial Analyst", "Business Owner"] },
                { fullName: "Tanisha Singh", pob: "Delhi", religions: ["Hindu"], professions: ["Fashion Designer", "Stylist"] },
                { fullName: "Ayesha Khan", pob: "Bangalore", religions: ["Muslim"], professions: ["Data Scientist", "Research Analyst"] },
                { fullName: "Riya Sharma", pob: "Mumbai", religions: ["Hindu"], professions: ["Doctor", "Surgeon"] },
                { fullName: "Natasha D'souza", pob: "Pune", religions: ["Christian"], professions: ["Lawyer", "Legal Advisor"] },
                { fullName: "Simran Kaur", pob: "Ludhiana", religions: ["Sikh"], professions: ["Teacher", "Educator"] },
                { fullName: "Anjali Das", pob: "Kolkata", religions: ["Hindu"], professions: ["Architect", "Interior Designer"] },
                { fullName: "Zoya Malik", pob: "Delhi", religions: ["Muslim"], professions: ["Journalist", "Editor"] },
                { fullName: "Sneha Reddy", pob: "Hyderabad", religions: ["Hindu"], professions: ["Software Engineer", "Developer"] },
                { fullName: "Jennifer Wilson", pob: "Chennai", religions: ["Christian"], professions: ["Pilot", "Flight Attendant"] }
            ];


            // Helper function to calculate age from DOB in DD/MM/YYYY format
            const calculateAge = (dobString) => {
                const [day, month, year] = dobString.split('/').map(Number);
                const birthDate = new Date(year, month - 1, day);
                const today = new Date();
                let age = today.getFullYear() - birthDate.getFullYear();
                const m = today.getMonth() - birthDate.getMonth();
                if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                    age--;
                }
                return age;
            };


            // Helper function to validate a date in DD/MM/YYYY format
            const isValidDate = (dobString) => {
                const dateRegex = /^(\d{2})\/(\d{2})\/(\d{4})$/;
                if (!dateRegex.test(dobString)) return false;


                const [day, month, year] = dobString.split('/').map(Number);
                const date = new Date(year, month - 1, day);
                
                // Check if the date object is valid and the values match the original input
                const isDateValid = date.getFullYear() === year && date.getMonth() === month - 1 && date.getDate() === day;
                return isDateValid;
            };


            // Helper function to compare two detail objects, ignoring case and whitespace
            const areDetailsEqual = (user, target) => {
                return user.fullName.toLowerCase().trim() === target.fullName.toLowerCase().trim() &&
                       user.gender.toLowerCase().trim() === target.gender.toLowerCase().trim() &&
                       user.dob.toLowerCase().trim() === target.dob.toLowerCase().trim() &&
                       user.pob.toLowerCase().trim() === target.pob.toLowerCase().trim() &&
                       user.religion.toLowerCase().trim() === target.religion.toLowerCase().trim() &&
                       user.profession.toLowerCase().trim() === target.profession.toLowerCase().trim();
            };


            // Function to generate a random partner
            const generateRandomPartner = (userGender, userAge) => {
                const futureGender = userGender.toLowerCase() === 'female' ? 'Male' : 'Female';
                const partnerList = futureGender === 'Male' ? malePartners : femalePartners;
                
                const randomPartner = partnerList[Math.floor(Math.random() * partnerList.length)];
                
                // Calculate age within a 4-year gap, bounded by 21-50
                const minAge = Math.max(21, userAge - 4);
                const maxAge = Math.min(50, userAge + 4);
                const futureAge = Math.floor(Math.random() * (maxAge - minAge + 1)) + minAge;
                
                const currentYear = new Date().getFullYear();
                const futureBirthYear = currentYear - futureAge;
                const futureDob = new Date(futureBirthYear, Math.floor(Math.random() * 12), Math.floor(Math.random() * 28) + 1).toLocaleDateString('en-GB');


                return {
                    fullName: randomPartner.fullName,
                    gender: futureGender,
                    dob: futureDob,
                    pob: randomPartner.pob,
                    religion: randomPartner.religions[Math.floor(Math.random() * randomPartner.religions.length)],
                    profession: randomPartner.professions[Math.floor(Math.random() * randomPartner.professions.length)],
                    age: futureAge
                };
            };
            
            // Function to show a message box
            const showMessage = (message) => {
                messageBox.textContent = message;
                messageBox.style.display = 'block';
                setTimeout(() => {
                    messageBox.style.display = 'none';
                }, 4000);
            };


            // --- Form Validation Logic ---
            nameInput.addEventListener('input', (event) => {
                event.target.value = event.target.value.replace(/[^a-zA-Z\s]/g, '');
            });


            pobInput.addEventListener('input', (event) => {
                event.target.value = event.target.value.replace(/[^a-zA-Z\s]/g, '');
            });


            professionInput.addEventListener('input', (event) => {
                event.target.value = event.target.value.replace(/[^a-zA-Z\s]/g, '');
            });


            dobInput.addEventListener('input', (event) => {
                let value = event.target.value.replace(/[^0-9]/g, '');
                
                if (value.length > 2) {
                    value = value.slice(0, 2) + '/' + value.slice(2);
                }
                if (value.length > 5) {
                    value = value.slice(0, 5) + '/' + value.slice(5);
                }
                event.target.value = value.slice(0, 10);
            });
            // --- End of Form Validation Logic ---


            form.addEventListener('submit', (e) => {
                e.preventDefault();


                const formData = new FormData(form);
                const userDetails = {};
                for (let [key, value] of formData.entries()) {
                    userDetails[key] = value.trim();
                }


                // New validation for DOB and Age
                if (!isValidDate(userDetails.dob)) {
                    showMessage("Please enter a valid date in DD/MM/YYYY format.");
                    return;
                }
                const userAge = calculateAge(userDetails.dob);
                if (userAge < 21 || userAge > 50) {
                    showMessage("Age must be between 21 and 50 years old.");
                    return;
                }


                let futurePartner;
                if (areDetailsEqual(userDetails, nehaDetails)) {
                    // Specific case: If user is Neha, show Abhay
                    futurePartner = { ...abhayDetails, age: calculateAge(abhayDetails.dob) };
                } else if (areDetailsEqual(userDetails, abhayDetails)) {
                    // Specific case: If user is Abhay, show Neha
                    futurePartner = { ...nehaDetails, age: calculateAge(nehaDetails.dob) };
                } else {
                    // Otherwise, generate a random partner
                    futurePartner = generateRandomPartner(userDetails.gender, userAge);
                }


                // Populate and show results
                document.getElementById('futureName').textContent = futurePartner.fullName;
                document.getElementById('futureGender').textContent = futurePartner.gender;
                document.getElementById('futureAge').textContent = futurePartner.age;
                document.getElementById('futureDob').textContent = futurePartner.dob;
                document.getElementById('futurePob').textContent = futurePartner.pob;
                document.getElementById('futureReligion').textContent = futurePartner.religion;
                document.getElementById('futureProfession').textContent = futurePartner.profession;


                const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                document.getElementById('loveQuote').textContent = `“${randomQuote}”`;


                formContainer.classList.add('hidden');
                resultsContainer.classList.remove('hidden');
            });


            goBackButton.addEventListener('click', () => {
                formContainer.classList.remove('hidden');
                resultsContainer.classList.add('hidden');
                form.reset();
            });
        });
    </script>
</body>
</html>